{"version":3,"sources":["servicies/FetchApi.jsx","components/FilmsRender/FilmsRender.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/form/Form.jsx","views/MoviesView.jsx"],"names":["key","FetchTrending","callback","url","axios","get","then","resp","data","results","catch","error","message","FetchMovies","query","res","length","alert","FetchMovieById","id","FetchMovieReviews","FetchMovieCast","console","log","cast","defaults","baseURL","FilmsRender","list","location","className","map","film","to","pathname","state","from","src","poster_path","alt","title","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","Form","onSubmit","useState","setQuery","e","preventDefault","reset","htmlFor","type","onChange","placeholder","MoviesView","useLocation","URLSearchParams","search","history","useHistory","foundMovies","setFoundMovies","useEffect"],"mappings":"2IAAA,+LAEMA,EAAM,mCAEL,SAASC,EAAcC,GAC5B,IACMC,EAAG,UADW,8BACX,OAAoBH,GAC7BI,IACGC,IAAIF,GACJG,MAAK,SAACC,GAAD,OAAUA,EAAKC,KAAKC,WACzBH,KAAKJ,GACLQ,OAAM,SAACC,GAAD,OAAWA,EAAMC,WAGrB,SAASC,EAAYC,EAAOZ,GACjC,IAAMC,EAAG,gCAA4BH,EAA5B,iCAAwDc,EAAxD,+BACTV,IACGC,IAAIF,GACJG,MAAK,SAACS,GACL,OAAKA,EAAIP,KAAKC,QAAQO,OAGfD,EAAIP,KAAKC,QAFPQ,MAAM,oBAIhBX,KAAKJ,GACLQ,OAAM,SAACC,GAAD,OAAWA,EAAMC,WAGrB,SAASM,EAAeC,EAAIjB,GACjC,IAAMC,EAAG,iBAAagB,EAAb,oBAA2BnB,EAA3B,mBACTI,IACGC,IAAIF,GACJG,MAAK,SAACS,GAAD,OAASA,EAAIP,QAClBF,KAAKJ,GACLQ,OAAM,SAACC,GAAD,OAAWA,EAAMC,WAGrB,SAASQ,EAAkBD,EAAIjB,GACpC,IAAMC,EAAG,iBAAagB,EAAb,4BAAmCnB,EAAnC,0BACTI,IACGC,IAAIF,GACJG,MAAK,SAACS,GAAD,OAASA,EAAIP,KAAKC,WACvBH,KAAKJ,GACLQ,OAAM,SAACC,GAAD,OAAWA,EAAMC,WAGrB,SAASS,EAAeF,EAAIjB,GACjCoB,QAAQC,IAAI,KAAMJ,GAClB,IAAMhB,EAAG,iBAAagB,EAAb,4BAAmCnB,EAAnC,mBACTI,IACGC,IAAIF,GACJG,MAAK,SAACS,GAAD,OAASA,EAAIP,KAAKgB,QACvBlB,KAAKJ,GACLQ,OAAM,SAACC,GAAD,OAAWA,EAAMC,WAlD5BR,IAAMqB,SAASC,QAAf,gC,gCCHA,uEAIe,SAASC,EAAT,GAA0C,IAAnBC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,SAC1C,OACE,qCACE,gDACA,oBAAIC,UAAU,GAAd,SACGF,EAAKG,KAAI,SAACC,GACT,OACE,6BACE,eAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAaF,EAAKb,IAC1BgB,MAAO,CAAEC,KAAMP,IAHnB,UAME,qBACEC,UAAU,cACVO,IAAG,0CAAqCL,EAAKM,aAC7CC,IAAI,KAEN,oBAAIT,UAAU,GAAd,SAAkBE,EAAKQ,YAZlBR,EAAKb,c,qDCXX,SAASsB,EAAgBC,EAAK1C,EAAK2C,GAYhD,OAXI3C,KAAO0C,EACTE,OAAOC,eAAeH,EAAK1C,EAAK,CAC9B2C,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAI1C,GAAO2C,EAGND,ECVT,SAASO,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,SAASQ,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAU/C,OAAQ8C,IAAK,CACzC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNb,EAAQL,OAAOoB,IAAS,GAAMC,SAAQ,SAAUjE,GAC9C,EAAe6D,EAAQ7D,EAAKgE,EAAOhE,OAE5B4C,OAAOsB,0BAChBtB,OAAOuB,iBAAiBN,EAAQjB,OAAOsB,0BAA0BF,IAEjEf,EAAQL,OAAOoB,IAASC,SAAQ,SAAUjE,GACxC4C,OAAOC,eAAegB,EAAQ7D,EAAK4C,OAAOa,yBAAyBO,EAAQhE,OAKjF,OAAO6D,E,gGC7BM,SAASO,EAAT,GAA6B,IAAbC,EAAY,EAAZA,SAC3B,EAA0BC,mBAAS,IAAnC,mBAAOxD,EAAP,KAAcyD,EAAd,KAYA,OACI,uBAAMzC,UAAU,OACZuC,SATiB,SAACG,GACtBA,EAAEC,iBAEFJ,EAASvD,GACT0D,EAAEX,OAAOa,QACTH,EAAS,KAGT,UAGI,wBAAOI,QAAQ,GAAf,4BACI,uBACIhC,MAAO7B,EACP8D,KAAK,OACLC,SAlBU,SAACL,GACvBD,EAASC,EAAEX,OAAOlB,QAkBNmC,YAAY,kBAGpB,wBAAQF,KAAK,SAAb,6BCvBG,SAASG,IACpB,IAAMlD,EAAWmD,cACX7E,EAAM,IAAI8E,gBAAgBpD,EAASqD,QAAQ7E,IAAI,SAC/C8E,EAAUC,cAChB,EAAsCd,mBAAS,MAA/C,mBAAOe,EAAP,KAAoBC,EAApB,KACA,EAA0BhB,mBAAQ,OAACnE,QAAD,IAACA,IAAO,IAA1C,mBAAOW,EAAP,KAAcyD,EAAd,KAaA,OANAgB,qBAAU,WACQ,KAAVzE,GAAwB,OAARX,GACpBU,YAAYC,EAAOwE,KACpB,CAACxE,EAAOX,IAIP,qCACI,cAACiE,EAAD,CAAMC,SAbG,SAACvD,GACdqE,EAAQzB,KAAR,OAAkB7B,GAAlB,IAA4BqD,OAAO,SAAD,OAAWpE,MAC7CyD,EAASzD,MAYJuE,GAAe,cAAC1D,EAAA,QAAD,CAAaC,KAAMyD,EAAaxD,SAAUA","file":"static/js/MoviesView.5de3dcee.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst key = '6acc6746be8af475302214b8237b9c48'\naxios.defaults.baseURL = `https://api.themoviedb.org/3`\nexport function FetchTrending(callback) {\n  const urlTrending = '/trending/all/day?api_key='\n  const url = `${urlTrending}${key}`\n  axios\n    .get(url)\n    .then((resp) => resp.data.results)\n    .then(callback)\n    .catch((error) => error.message)\n}\n\nexport function FetchMovies(query, callback) {\n  const url = `/search/movie?api_key=${key}&language=en-US&query=${query}&page=1&include_adult=false`\n  axios\n    .get(url)\n    .then((res) => {\n      if (!res.data.results.length) {\n        return alert('Nothing found')\n      }\n      return res.data.results\n    })\n    .then(callback)\n    .catch((error) => error.message)\n}\n\nexport function FetchMovieById(id, callback) {\n  const url = `/movie/${id}?api_key=${key}&language=en-US`\n  axios\n    .get(url)\n    .then((res) => res.data)\n    .then(callback)\n    .catch((error) => error.message)\n}\n\nexport function FetchMovieReviews(id, callback) {\n  const url = `/movie/${id}/reviews?api_key=${key}&language=en-US&page=1`\n  axios\n    .get(url)\n    .then((res) => res.data.results)\n    .then(callback)\n    .catch((error) => error.message)\n}\n\nexport function FetchMovieCast(id, callback) {\n  console.log('id', id)\n  const url = `/movie/${id}/credits?api_key=${key}&language=en-US`\n  axios\n    .get(url)\n    .then((res) => res.data.cast)\n    .then(callback)\n    .catch((error) => error.message)\n}\n","import styles from './FilmsRender.module.css'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nexport default function FilmsRender({ list, location }) {\n  return (\n    <>\n      <h2>Trending films</h2>\n      <ul className=\"\">\n        {list.map((film) => {\n          return (\n            <li key={film.id}>\n              <Link\n                to={{\n                  pathname: `/movies/${film.id}`,\n                  state: { from: location },\n                }}\n              >\n                <img\n                  className=\"movie-image\"\n                  src={`https://image.tmdb.org/t/p/w342/${film.poster_path}`}\n                  alt=\"\"\n                />\n                <h2 className=\"\">{film.title}</h2>\n              </Link>\n            </li>\n          )\n        })}\n      </ul>\n    </>\n  )\n}\n\nFilmsRender.propTypes = {\n  list: PropTypes.array,\n  location: PropTypes.object,\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useState } from \"react\";\n\nexport default function Form({ onSubmit }) {\n    const [query, setQuery] = useState('')\n\n    const handleInputChange = (e) => {\n        setQuery(e.target.value)\n    }\n    const handleSubmitForm = (e) => {\n        e.preventDefault();\n\n        onSubmit(query)\n        e.target.reset()\n        setQuery('')\n    }\n    return (\n        <form className='form'\n            onSubmit={handleSubmitForm}\n        >\n            <label htmlFor=\"\">Find your movie\n                <input\n                    value={query}\n                    type=\"text\"\n                    onChange={handleInputChange}\n                    placeholder='Movie Name'\n                />\n            </label>\n            <button type='submit'>Start Search</button>\n\n        </form>\n    )\n}\n\nForm.propTypes = {\n    onSubmit: PropTypes.func,\n}","import { useState, useEffect } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport FilmsRender from '../components/FilmsRender/FilmsRender'\nimport { FetchMovies } from \"../servicies/FetchApi\";\nimport Form from \"../components/form/Form\";\n\nexport default function MoviesView() {\n    const location = useLocation()\n    const url = new URLSearchParams(location.search).get(\"query\");\n    const history = useHistory();\n    const [foundMovies, setFoundMovies] = useState(null)\n    const [query, setQuery] = useState(url ?? \"\");\n\n    const getQuery = (query) => {\n        history.push({ ...location, search: `query=${query}` });\n        setQuery(query);\n    }\n\n    useEffect(() => {\n        if (query === \"\" && url === null) return;\n        FetchMovies(query, setFoundMovies);\n    }, [query, url]);\n\n\n    return (\n        <>\n            <Form onSubmit={getQuery}></Form>\n            {foundMovies && <FilmsRender list={foundMovies} location={location} />}\n        </>\n    )\n}"],"sourceRoot":""}