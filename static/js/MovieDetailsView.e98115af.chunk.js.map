{"version":3,"sources":["servicies/FetchApi.jsx","components/CastReviews/CastReviews.jsx","components/MovieDetailsInfo/MovieDetailsInfo.jsx","views/MovieDetailsView.jsx"],"names":["key","FetchTrending","callback","url","axios","get","then","resp","data","results","catch","error","message","FetchMovies","query","res","length","alert","FetchMovieById","id","FetchMovieReviews","FetchMovieCast","console","log","cast","defaults","baseURL","CastReviews","location","to","pathname","state","from","className","activeClassName","MovieDetailsInfo","movie","goBack","type","onClick","src","poster_path","alt","title","genres","map","genre","name","join","overview","Cast","lazy","Reviews","MovieDetailsView","movieId","useParams","useLocation","history","useHistory","useRouteMatch","useState","setMovie","useEffect","push","fallback","Loader","path"],"mappings":"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","file":"static/js/MovieDetailsView.e98115af.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst key = '6acc6746be8af475302214b8237b9c48'\naxios.defaults.baseURL = `https://api.themoviedb.org/3`\nexport function FetchTrending(callback) {\n  const urlTrending = '/trending/all/day?api_key='\n  const url = `${urlTrending}${key}`\n  axios\n    .get(url)\n    .then((resp) => resp.data.results)\n    .then(callback)\n    .catch((error) => error.message)\n}\n\nexport function FetchMovies(query, callback) {\n  const url = `/search/movie?api_key=${key}&language=en-US&query=${query}&page=1&include_adult=false`\n  axios\n    .get(url)\n    .then((res) => {\n      if (!res.data.results.length) {\n        return alert('Nothing found')\n      }\n      return res.data.results\n    })\n    .then(callback)\n    .catch((error) => error.message)\n}\n\nexport function FetchMovieById(id, callback) {\n  const url = `/movie/${id}?api_key=${key}&language=en-US`\n  axios\n    .get(url)\n    .then((res) => res.data)\n    .then(callback)\n    .catch((error) => error.message)\n}\n\nexport function FetchMovieReviews(id, callback) {\n  const url = `/movie/${id}/reviews?api_key=${key}&language=en-US&page=1`\n  axios\n    .get(url)\n    .then((res) => res.data.results)\n    .then(callback)\n    .catch((error) => error.message)\n}\n\nexport function FetchMovieCast(id, callback) {\n  console.log('id', id)\n  const url = `/movie/${id}/credits?api_key=${key}&language=en-US`\n  axios\n    .get(url)\n    .then((res) => res.data.cast)\n    .then(callback)\n    .catch((error) => error.message)\n}\n","import { NavLink } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nexport default function CastReviews({ url, location }) {\n  //   console.log('CastReviews', url, location)\n  return (\n    <div>\n      <h3>Additional information</h3>\n      <ul>\n        <li>\n          <NavLink\n            to={{\n              pathname: `${url}/cast`,\n              state: {\n                from: location.state.from,\n              },\n            }}\n            className=\"add_link\"\n            activeClassName=\"active_link\"\n          >\n            Cast\n          </NavLink>\n        </li>\n        <li>\n          <NavLink\n            to={{\n              pathname: `${url}/reviews`,\n              state: {\n                from: location.state.from,\n              },\n            }}\n            className=\"add_link\"\n            activeClassName=\"active_link\"\n          >\n            Reviews\n          </NavLink>\n        </li>\n      </ul>\n    </div>\n  )\n}\nCastReviews.propTypes = {\n  value: PropTypes.string,\n  location: PropTypes.object,\n}\n","import PropTypes from \"prop-types\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport default function MovieDetailsInfo({ movie, goBack }) {\r\n    return (<>\r\n        <button type='button' onClick={goBack}>Go Back</button>\r\n        <div className=\"movie-card\">\r\n            <img\r\n                className=\"movie-image\"\r\n                src={`https://image.tmdb.org/t/p/w342/${movie.poster_path}`}\r\n                alt=\"\"\r\n            />\r\n            <h3 className=\"\">{movie.title}</h3>\r\n            <p>\r\n                <span className=\"bold\">Genre:</span>{' '}\r\n                {movie.genres.map((genre) => genre.name).join(', ')}\r\n            </p>\r\n            <p>\r\n                <span className=\"bold\">Overview:</span> {movie.overview}\r\n            </p>\r\n        </div>\r\n    </>\r\n    )\r\n}","import { useParams, useLocation, useRouteMatch, useHistory } from 'react-router-dom'\nimport { Route, Switch } from 'react-router-dom'\nimport { useEffect, useState, Suspense, lazy } from 'react'\nimport { FetchMovieById } from '../servicies/FetchApi'\nimport CastReviews from '../components/CastReviews/CastReviews'\nimport Loader from 'react-loader-spinner'\nimport MovieDetailsInfo from '../components/MovieDetailsInfo/MovieDetailsInfo'\n\nconst Cast = lazy(() => import('../components/Cast/Cast'))\nconst Reviews = lazy(() => import('../components/Reviews/Reviews'))\n\nexport default function MovieDetailsView() {\n  const { movieId } = useParams()\n  const location = useLocation()\n  const history = useHistory()\n  const { url } = useRouteMatch()\n  const [movie, setMovie] = useState(null)\n\n  useEffect(() => {\n    FetchMovieById(movieId, setMovie)\n  }, [movieId])\n  console.log(history)\n  console.log(location)\n  const goBack = () => {\n    history.push(location?.state?.from ?? \"/\");\n    console.log(history)\n    console.log(location?.state?.from)\n  };\n\n  return (\n    <>\n      {movie && <MovieDetailsInfo movie={movie} goBack={goBack} />}\n      <CastReviews url={url} location={location} />\n\n      <Suspense fallback={Loader}>\n        <Switch>\n          <Route path=\"/movies/:movieId/cast\">\n            <Cast />\n          </Route>\n          <Route path=\"/movies/:movieId/reviews\">\n            <Reviews />\n          </Route>\n        </Switch>\n      </Suspense>\n    </>\n  )\n}\n"],"sourceRoot":""}